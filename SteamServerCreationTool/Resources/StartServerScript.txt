@ECHO OFF
SET serverExecutablePath={server_dir}
SET serverExecutableFileName=StartServerExecutable.exe
SET serverLaunchOptions=-Some -Launch Options

SET pathExist=%serverExecutablePath%\%serverExecutableFileName%

PUSHD {steamcmd_dir}
START /wait steamcmd +login anonymous +force_install_dir "{server_dir}" +app_update {app_id} validated +quit
PUSHD {server_dir}
ECHO Protecting {app_name} from crashes...
ECHO To exit {app_name}, close this window first. It will restart otherwise.
TITLE {app_name}
IF EXIST "%pathExist%" GOTO server

CLS
ECHO Please edit this file with valid information and try again.
PAUSE
EXIT

:server
ECHO (%time%) Sven Co-op Dedicated Server started.
START /wait %ServerExecutableFileName% %serverLaunchOptions%
ECHO (%time%) WARNING: Sven Co-op Dedicated Server closed or crashed, restarting.
GOTO server